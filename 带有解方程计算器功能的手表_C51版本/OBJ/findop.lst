


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             MY_FUNCTION1,CODE,READONLY ; Õâ
                                                            Ò»ÐÐ±ØÒªµÄ³ýÁËMy_Fu
                                                            nction¿ÉÒÔ×Ô¼ºÈ¡ÃûÒ
                                                            ÔÍâ£¬ÆäËûµÄ¶¼ÊÇÄ£°å
                                                            
    2 00000000                 EXPORT           findop      ; ÓëÔÚcÎÄ¼þÖÐ¶¨ÒåµÄ
                                                            findopº¯Êý¹ØÁªÆðÀ´
    3 00000000                 IMPORT           strlen
    4 00000000                 IMPORT           myprintf
    5 00000000                 IMPORT           oprank
    6 00000000         ; ENTRY
    7 00000000                 PRESERVE8
    8 00000000         findop
    9 00000000         ;MOV R1,R0     ;½«²ÎÊý1Ð´ÈëR1±£»¤
   10 00000000 E92D 4FF0       STMFD            SP!,{R4-R11,R14}
   11 00000004         ;PUSH {R14}
   12 00000004 4606            MOV              R6,R0       ;½«×Ö·û´®µÄÊ×µØÖ··Å
                                                            ÔÚR6ÖÐ
   13 00000006 F04F 34FF       MOV              r4,#0xFFFFFFFF ;r4 ÊÇ ret
   14 0000000A F04F 35FF       MOV              r5,#0xFFFFFFFF 
                                                            ;r5 ÊÇ lowestoprank
                                                            
   15 0000000E F04F 0700       MOV              r7,#0       ;r7 ÊÇ is
   16 00000012 F04F 0800       MOV              r8,#0       ;r8 ÊÇ was
   17 00000016         ;µ÷ÓÃstrlen,·µ»ØÖµÔÚR0£¬Í¬Ê±»á¸Ä±äR14
   18 00000016 F7FF FFFE       BL               strlen
   19 0000001A 4683            MOV              R11,R0      ;´ËÊ±R11ÊÇi
   20 0000001C         LOOP
   21 0000001C         
   22 0000001C F1AB 0B01       SUB              R11,R11,#1  ;R11ÓÃ×÷i£¬´ËÊ±Îªst
                                                            rlen(str)-1
   23 00000020 F816 900B       LDRB             R9,[R6,R11] ;R9ÊÇstr[i]µÄasciiÂ
                                                            ëÖµ
   24 00000024 F1B9 0F29       CMP              R9,#0x29
   25 00000028 D104            BNE              N29
   26 0000002A F107 0701       ADD              R7,R7,#1
   27 0000002E F04F 0801       MOV              R8,#1
   28 00000032 E020            B                IS0
   29 00000034         N29
   30 00000034 F1B9 0F28       CMP              R9,#0x28
   31 00000038 D102            BNE              N28
   32 0000003A F1A7 0701       SUB              R7,R7,#1    ;R7ÊÇis
   33 0000003E E01A            B                IS0
   34 00000040         N28
   35 00000040 2F00            CMP              R7,#0
   36 00000042 D118            BNE              IS0         ;hh
   37 00000044 F1B9 0F2D       CMP              R9,#0x2D
   38 00000048 D10E            BNE              N2D
   39 0000004A 46DA            MOV              R10,R11
   40 0000004C F1AA 0A01       SUB              R10,R10,#1
   41 00000050 F816 A00A       LDRB             R10,[R6,R10] ;R10ÊÇstr[i-1]µÄas
                                                            ciiÂëÖµ
   42 00000054 F1BA 0F29       CMP              R10,#0x29
   43 00000058 D006            BEQ              N2D
   44 0000005A F1BA 0F30       CMP              R10,#0X30
   45 0000005E D302            BCC              CONTINUE
   46 00000060 F1BA 0F39       CMP              R10,#0X39
   47 00000064 D900            BLS              N2D
   48 00000066         CONTINUE                             ;Ìøµ½µ±Ç°Ñ­»·µ×



ARM Macro Assembler    Page 2 


   49 00000066 E006            B                IS0
   50 00000068         N2D
   51 00000068 4648            MOV              R0,R9
   52 0000006A F7FF FFFE       BL               oprank      ;R0µÄÊýÖµÊÇRANK
   53 0000006E 42A8            CMP              R0,R5
   54 00000070 DD01            BLE              IS0
   55 00000072 465C            MOV              R4,R11
   56 00000074 4605            MOV              R5,R0
   57 00000076         IS0
   58 00000076 F1BB 0F00       CMP              R11,#0
   59 0000007A DCCF            BGT              LOOP
   60 0000007C         
   61 0000007C         
   62 0000007C F1B4 3FFF       CMP              R4,#0xFFFFFFFF
   63 00000080 D104            BNE              FINDOP_RETURN
   64 00000082 F1B8 0F01       CMP              R8,#1
   65 00000086 D101            BNE              FINDOP_RETURN
   66 00000088 F06F 0401       MOV              R4,#0xFFFFFFFE
   67 0000008C         FINDOP_RETURN
   68 0000008C 0020            MOVS             R0,R4
   69 0000008E E8BD 4FF0       LDMFD            SP!,{R4-R11,R14}
   70 00000092 46F7            MOV              PC,LR
   71 00000094         
   72 00000094                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=..\obj\findop.d -o..\obj\findop.o -I.\RTE\_Target_1 -IC:\Users\126
95\AppData\Local\Arm\Packs\Keil\STM32F1xx_DFP\2.3.0\Device\Include -IC:\Keil_v5
\ARM\CMSIS\Include --predefine="__MICROLIB SETA 1" --predefine="__UVISION_VERSI
ON SETA 529" --predefine="STM32F10X_HD SETA 1" --list=..\obj\findop.lst ..\CALC
\findop.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CONTINUE 00000066

Symbol: CONTINUE
   Definitions
      At line 48 in file ..\CALC\findop.s
   Uses
      At line 45 in file ..\CALC\findop.s
Comment: CONTINUE used once
FINDOP_RETURN 0000008C

Symbol: FINDOP_RETURN
   Definitions
      At line 67 in file ..\CALC\findop.s
   Uses
      At line 63 in file ..\CALC\findop.s
      At line 65 in file ..\CALC\findop.s

IS0 00000076

Symbol: IS0
   Definitions
      At line 57 in file ..\CALC\findop.s
   Uses
      At line 28 in file ..\CALC\findop.s
      At line 33 in file ..\CALC\findop.s
      At line 36 in file ..\CALC\findop.s
      At line 49 in file ..\CALC\findop.s
      At line 54 in file ..\CALC\findop.s

LOOP 0000001C

Symbol: LOOP
   Definitions
      At line 20 in file ..\CALC\findop.s
   Uses
      At line 59 in file ..\CALC\findop.s
Comment: LOOP used once
MY_FUNCTION1 00000000

Symbol: MY_FUNCTION1
   Definitions
      At line 1 in file ..\CALC\findop.s
   Uses
      None
Comment: MY_FUNCTION1 unused
N28 00000040

Symbol: N28
   Definitions
      At line 34 in file ..\CALC\findop.s
   Uses
      At line 31 in file ..\CALC\findop.s
Comment: N28 used once
N29 00000034

Symbol: N29
   Definitions
      At line 29 in file ..\CALC\findop.s
   Uses



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

      At line 25 in file ..\CALC\findop.s
Comment: N29 used once
N2D 00000068

Symbol: N2D
   Definitions
      At line 50 in file ..\CALC\findop.s
   Uses
      At line 38 in file ..\CALC\findop.s
      At line 43 in file ..\CALC\findop.s
      At line 47 in file ..\CALC\findop.s

findop 00000000

Symbol: findop
   Definitions
      At line 8 in file ..\CALC\findop.s
   Uses
      At line 2 in file ..\CALC\findop.s
Comment: findop used once
9 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

myprintf 00000000

Symbol: myprintf
   Definitions
      At line 4 in file ..\CALC\findop.s
   Uses
      None
Comment: myprintf unused
oprank 00000000

Symbol: oprank
   Definitions
      At line 5 in file ..\CALC\findop.s
   Uses
      At line 52 in file ..\CALC\findop.s
Comment: oprank used once
strlen 00000000

Symbol: strlen
   Definitions
      At line 3 in file ..\CALC\findop.s
   Uses
      At line 18 in file ..\CALC\findop.s
Comment: strlen used once
3 symbols
345 symbols in table
